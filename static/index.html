<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>AURORA v3.7 AI</title>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        :root { --bg: #008080; --gray: #c0c0c0; --navy: #000080; --green: #0f0; --white: #fff; --dark: #000; }
        * { box-sizing: border-box; }
        body { background: var(--bg); font-family: 'VT323', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; user-select: none; }
        .window { position: relative; width: 320px; background: var(--gray); border: 2px solid var(--white); border-right-color: var(--dark); border-bottom-color: var(--dark); padding: 4px; box-shadow: 6px 6px 0 #0006; }
        .title-bar { background: var(--navy); color: #fff; padding: 4px 8px; display: flex; justify-content: space-between; font-size: 20px; }
        .screen { background: #011; border: 2px inset #808080; height: 90px; margin: 6px 0; padding: 10px; color: var(--green); display: flex; flex-direction: column; align-items: center; position: relative; overflow: hidden; text-shadow: 0 0 5px var(--green); }
        .screen::after { content: ""; position: absolute; inset: 0; background: linear-gradient(#0000 50%, #0002 50%); background-size: 100% 4px; pointer-events: none; }
        .vis { display: flex; align-items: flex-end; gap: 3px; height: 25px; margin-top: auto; }
        .bar { width: 6px; background: var(--green); height: 15%; transition: 0.15s; }
        .controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
        .btn { background: var(--gray); border: 2px solid var(--white); border-right-color: var(--dark); border-bottom-color: var(--dark); font-family: inherit; font-size: 24px; cursor: pointer; height: 40px; }
        .btn:active { border: 2px solid var(--dark); border-right-color: var(--white); border-bottom-color: var(--white); transform: translate(1px,1px); }
        .drawer { position: absolute; inset: 0; background: var(--gray); z-index: 10; transform: translateY(105%); transition: 0.3s; padding: 4px; display: flex; flex-direction: column; }
        .drawer.open { transform: translateY(0); }
        .search-box { width: 100%; height: 32px; font-family: inherit; font-size: 18px; border: 2px inset #808080; padding: 0 8px; margin: 4px 0; outline: none; background: #fff; }
        .list { flex: 1; overflow-y: auto; background: #fff; border: 2px inset #808080; }
        .item { padding: 8px; border-bottom: 1px dotted #888; color: #000; font-size: 18px; cursor: pointer; }
        .item.active { background: var(--navy); color: #fff; }
    </style>
</head>
<body>

<div class="window">
    <div class="title-bar"><span>AURORA v3.7 AI</span><span onclick="toggleL()" style="cursor:pointer">[X]</span></div>
    
    <div class="screen">
        <div id="m" style="font-size: 22px">SYSTEM READY</div>
        <div id="v" class="vis"></div>
        <div id="st" style="font-size: 14px; opacity: 0.7">VOICE: ENABLED</div>
    </div>

    <div class="controls">
        <button class="btn" onclick="prev()">‚èÆ</button>
        <button class="btn" id="pb" onclick="toggle()">‚ñ∂</button>
        <button class="btn" onclick="next()">‚è≠</button>
    </div>
    
    <button class="btn" style="width:100%; margin-top:6px; font-size:18px" onclick="toggleL()">SEARCH PLAYLIST</button>

    <div id="drw" class="drawer">
        <div class="title-bar"><span>AI SEARCH</span><span onclick="toggleL()" style="cursor:pointer">‚úï</span></div>
        <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–ø–∏—Å–∞–Ω oninput="renderList()" -->
        <input type="text" id="srch" class="search-box" placeholder="–ù–∞–π—Ç–∏ —Å—Ç–∞–Ω—Ü–∏—é..." oninput="handleSearchInput()">
        <div id="lst" class="list"></div>
    </div>
</div>

<audio id="aud"></audio>

<script>
    const tracks = [
        {n: "–¢–û–ü –•–ò–¢–´ 2025", q: "top", e: "üî•"},
        {n: "–§–û–ù–ö –î–õ–Ø –î–†–ò–§–¢–ê", q: "phonk", e: "üèéÔ∏è"},
        {n: "–õ–û–£-–§–ê–ô –†–ê–î–ò–û", q: "lofi", e: "‚òï"},
        {n: "–†–£–°–°–ö–ò–ï –•–ò–¢–´", q: "russian", e: "üá∑üá∫"},
        {n: "–î–ò–°–ö–û–¢–ï–ö–ê 90-—Ö", q: "90s", e: "üìº"},
        {n: "–¢–Ø–ñ–ï–õ–´–ô –†–û–ö", q: "rock", e: "üé∏"}
    ];
    
    let cur = 0;
    const a = document.getElementById('aud'), m = document.getElementById('m'), 
          st = document.getElementById('st'), v = document.getElementById('v'),
          drw = document.getElementById('drw'), lst = document.getElementById('lst'),
          si = document.getElementById('srch'), pb = document.getElementById('pb');

    function speak(text) {
        if (!window.speechSynthesis) return;
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'ru-RU';
        u.rate = 1.1;
        window.speechSynthesis.speak(u);
    }

    for(let i=0; i<12; i++) v.innerHTML += `<div class="bar"></div>`;
    const bars = document.querySelectorAll('.bar');

    function play(idx) {
        cur = idx;
        const t = tracks[cur];
        m.innerText = `${t.e} ${t.n}`;
        st.innerText = "SIRIUS AI: CONNECTING...";
        speak("–í–∫–ª—é—á–∞—é " + t.n);
        a.src = `https://stream.example.com/${t.q}`;
        a.play().then(() => {
            st.innerText = "SIRIUS AI: ONLINE";
            pb.innerText = "‚è∏";
        }).catch(() => st.innerText = "LINK ERROR");
        renderList();
    }

    function toggle() {
        if(!a.src) return play(0);
        a.paused ? (a.play(), st.innerText="PLAYING", pb.innerText="‚è∏", speak("–ü—Ä–æ–¥–æ–ª–∂–∞—é")) : (a.pause(), st.innerText="PAUSED", pb.innerText="‚ñ∂", speak("–ü–∞—É–∑–∞"));
    }

    function next() { play((cur + 1) % tracks.length); }
    function prev() { play((cur - 1 + tracks.length) % tracks.length); }
    function toggleL() { drw.classList.toggle('open'); if(drw.classList.contains('open')) { si.focus(); speak("–ü–ª–µ–π–ª–∏—Å—Ç –æ—Ç–∫—Ä—ã—Ç"); } }

    // --- –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ ---
    function handleSearchInput() {
        speak("–ò—â—É");
        renderList();
    }

    function renderList() {
        const f = si.value.toLowerCase();
        lst.innerHTML = '';
        tracks.forEach((t, i) => {
            if(t.n.toLowerCase().includes(f)) {
                const el = document.createElement('div');
                el.className = `item ${i === cur ? 'active' : ''}`;
                el.innerText = `${t.e} ${t.n}`;
                el.onclick = () => { play(i); toggleL(); };
                lst.appendChild(el);
            }
        });
    }
    // ---------------------

    setInterval(() => {
        bars.forEach(b => b.style.height = !a.paused ? (Math.random()*80+20)+'%' : '15%');
    }, 150);

    renderList();
</script>
</body>
</html>
